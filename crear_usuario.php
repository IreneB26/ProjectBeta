<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">

    <title>Event Experience</title>
</head>

<body class="crear_usuario">

    <video class="video_inicio_sesion" autoplay="autoplay" loop="loop" muted defaultMuted>
        <source src="imagenes/video.mp4" type="video/mp4">
    </video>

    <a class="click_logo" href="index.php">
        <h1 class="logo_incio_sesion"><svg class="crear-usuario" width="79" height="66" viewBox="0 0 79 66" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.512 56.393V58.49H3.798V59.165H1.512V61.325H4.068V62H0.693V55.718H4.068V56.393H1.512ZM7.14326 61.244L8.67326 57.068H9.54626L7.61126 62H6.65726L4.72226 57.068H5.60426L7.14326 61.244ZM14.8522 59.345C14.8522 59.501 14.8432 59.666 14.8252 59.84H10.8832C10.9132 60.326 11.0782 60.707 11.3782 60.983C11.6842 61.253 12.0532 61.388 12.4852 61.388C12.8392 61.388 13.1332 61.307 13.3672 61.145C13.6072 60.977 13.7752 60.755 13.8712 60.479H14.7532C14.6212 60.953 14.3572 61.34 13.9612 61.64C13.5652 61.934 13.0732 62.081 12.4852 62.081C12.0172 62.081 11.5972 61.976 11.2252 61.766C10.8592 61.556 10.5712 61.259 10.3612 60.875C10.1512 60.485 10.0462 60.035 10.0462 59.525C10.0462 59.015 10.1482 58.568 10.3522 58.184C10.5562 57.8 10.8412 57.506 11.2072 57.302C11.5792 57.092 12.0052 56.987 12.4852 56.987C12.9532 56.987 13.3672 57.089 13.7272 57.293C14.0872 57.497 14.3632 57.779 14.5552 58.139C14.7532 58.493 14.8522 58.895 14.8522 59.345ZM14.0062 59.174C14.0062 58.862 13.9372 58.595 13.7992 58.373C13.6612 58.145 13.4722 57.974 13.2322 57.86C12.9982 57.74 12.7372 57.68 12.4492 57.68C12.0352 57.68 11.6812 57.812 11.3872 58.076C11.0992 58.34 10.9342 58.706 10.8922 59.174H14.0062ZM18.3362 56.978C18.9362 56.978 19.4222 57.161 19.7942 57.527C20.1662 57.887 20.3522 58.409 20.3522 59.093V62H19.5422V59.21C19.5422 58.718 19.4192 58.343 19.1732 58.085C18.9272 57.821 18.5912 57.689 18.1652 57.689C17.7332 57.689 17.3882 57.824 17.1302 58.094C16.8782 58.364 16.7522 58.757 16.7522 59.273V62H15.9332V57.068H16.7522V57.77C16.9142 57.518 17.1332 57.323 17.4092 57.185C17.6912 57.047 18.0002 56.978 18.3362 56.978ZM22.6891 57.743V60.65C22.6891 60.89 22.7401 61.061 22.8421 61.163C22.9441 61.259 23.1211 61.307 23.3731 61.307H23.9761V62H23.2381C22.7821 62 22.4401 61.895 22.2121 61.685C21.9841 61.475 21.8701 61.13 21.8701 60.65V57.743H21.2311V57.068H21.8701V55.826H22.6891V57.068H23.9761V57.743H22.6891ZM28.1868 56.393V58.49H30.4728V59.165H28.1868V61.325H30.7428V62H27.3678V55.718H30.7428V56.393H28.1868ZM34.5561 62L33.3861 60.164L32.2611 62H31.4061L32.9991 59.552L31.4061 57.068H32.3331L33.5031 58.895L34.6191 57.068H35.4741L33.8901 59.507L35.4831 62H34.5561ZM37.1077 57.977C37.2697 57.695 37.5097 57.461 37.8277 57.275C38.1517 57.083 38.5267 56.987 38.9527 56.987C39.3907 56.987 39.7867 57.092 40.1407 57.302C40.5007 57.512 40.7827 57.809 40.9867 58.193C41.1907 58.571 41.2927 59.012 41.2927 59.516C41.2927 60.014 41.1907 60.458 40.9867 60.848C40.7827 61.238 40.5007 61.541 40.1407 61.757C39.7867 61.973 39.3907 62.081 38.9527 62.081C38.5327 62.081 38.1607 61.988 37.8367 61.802C37.5187 61.61 37.2757 61.373 37.1077 61.091V64.34H36.2887V57.068H37.1077V57.977ZM40.4557 59.516C40.4557 59.144 40.3807 58.82 40.2307 58.544C40.0807 58.268 39.8767 58.058 39.6187 57.914C39.3667 57.77 39.0877 57.698 38.7817 57.698C38.4817 57.698 38.2027 57.773 37.9447 57.923C37.6927 58.067 37.4887 58.28 37.3327 58.562C37.1827 58.838 37.1077 59.159 37.1077 59.525C37.1077 59.897 37.1827 60.224 37.3327 60.506C37.4887 60.782 37.6927 60.995 37.9447 61.145C38.2027 61.289 38.4817 61.361 38.7817 61.361C39.0877 61.361 39.3667 61.289 39.6187 61.145C39.8767 60.995 40.0807 60.782 40.2307 60.506C40.3807 60.224 40.4557 59.894 40.4557 59.516ZM46.8707 59.345C46.8707 59.501 46.8617 59.666 46.8437 59.84H42.9017C42.9317 60.326 43.0967 60.707 43.3967 60.983C43.7027 61.253 44.0717 61.388 44.5037 61.388C44.8577 61.388 45.1517 61.307 45.3857 61.145C45.6257 60.977 45.7937 60.755 45.8897 60.479H46.7717C46.6397 60.953 46.3757 61.34 45.9797 61.64C45.5837 61.934 45.0917 62.081 44.5037 62.081C44.0357 62.081 43.6157 61.976 43.2437 61.766C42.8777 61.556 42.5897 61.259 42.3797 60.875C42.1697 60.485 42.0647 60.035 42.0647 59.525C42.0647 59.015 42.1667 58.568 42.3707 58.184C42.5747 57.8 42.8597 57.506 43.2257 57.302C43.5977 57.092 44.0237 56.987 44.5037 56.987C44.9717 56.987 45.3857 57.089 45.7457 57.293C46.1057 57.497 46.3817 57.779 46.5737 58.139C46.7717 58.493 46.8707 58.895 46.8707 59.345ZM46.0247 59.174C46.0247 58.862 45.9557 58.595 45.8177 58.373C45.6797 58.145 45.4907 57.974 45.2507 57.86C45.0167 57.74 44.7557 57.68 44.4677 57.68C44.0537 57.68 43.6997 57.812 43.4057 58.076C43.1177 58.34 42.9527 58.706 42.9107 59.174H46.0247ZM48.7708 57.869C48.9148 57.587 49.1188 57.368 49.3828 57.212C49.6528 57.056 49.9798 56.978 50.3638 56.978V57.824H50.1478C49.2298 57.824 48.7708 58.322 48.7708 59.318V62H47.9518V57.068H48.7708V57.869ZM51.7322 56.267C51.5762 56.267 51.4442 56.213 51.3362 56.105C51.2282 55.997 51.1742 55.865 51.1742 55.709C51.1742 55.553 51.2282 55.421 51.3362 55.313C51.4442 55.205 51.5762 55.151 51.7322 55.151C51.8822 55.151 52.0082 55.205 52.1102 55.313C52.2182 55.421 52.2722 55.553 52.2722 55.709C52.2722 55.865 52.2182 55.997 52.1102 56.105C52.0082 56.213 51.8822 56.267 51.7322 56.267ZM52.1282 57.068V62H51.3092V57.068H52.1282ZM58.0241 59.345C58.0241 59.501 58.0151 59.666 57.9971 59.84H54.0551C54.0851 60.326 54.2501 60.707 54.5501 60.983C54.8561 61.253 55.2251 61.388 55.6571 61.388C56.0111 61.388 56.3051 61.307 56.5391 61.145C56.7791 60.977 56.9471 60.755 57.0431 60.479H57.9251C57.7931 60.953 57.5291 61.34 57.1331 61.64C56.7371 61.934 56.2451 62.081 55.6571 62.081C55.1891 62.081 54.7691 61.976 54.3971 61.766C54.0311 61.556 53.7431 61.259 53.5331 60.875C53.3231 60.485 53.2181 60.035 53.2181 59.525C53.2181 59.015 53.3201 58.568 53.5241 58.184C53.7281 57.8 54.0131 57.506 54.3791 57.302C54.7511 57.092 55.1771 56.987 55.6571 56.987C56.1251 56.987 56.5391 57.089 56.8991 57.293C57.2591 57.497 57.5351 57.779 57.7271 58.139C57.9251 58.493 58.0241 58.895 58.0241 59.345ZM57.1781 59.174C57.1781 58.862 57.1091 58.595 56.9711 58.373C56.8331 58.145 56.6441 57.974 56.4041 57.86C56.1701 57.74 55.9091 57.68 55.6211 57.68C55.2071 57.68 54.8531 57.812 54.5591 58.076C54.2711 58.34 54.1061 58.706 54.0641 59.174H57.1781ZM61.5081 56.978C62.1081 56.978 62.5941 57.161 62.9661 57.527C63.3381 57.887 63.5241 58.409 63.5241 59.093V62H62.7141V59.21C62.7141 58.718 62.5911 58.343 62.3451 58.085C62.0991 57.821 61.7631 57.689 61.3371 57.689C60.9051 57.689 60.5601 57.824 60.3021 58.094C60.0501 58.364 59.9241 58.757 59.9241 59.273V62H59.1051V57.068H59.9241V57.77C60.0861 57.518 60.3051 57.323 60.5811 57.185C60.8631 57.047 61.1721 56.978 61.5081 56.978ZM64.5559 59.525C64.5559 59.015 64.6579 58.571 64.8619 58.193C65.0659 57.809 65.3479 57.512 65.7079 57.302C66.0739 57.092 66.4909 56.987 66.9589 56.987C67.5649 56.987 68.0629 57.134 68.4529 57.428C68.8489 57.722 69.1099 58.13 69.2359 58.652H68.3539C68.2699 58.352 68.1049 58.115 67.8589 57.941C67.6189 57.767 67.3189 57.68 66.9589 57.68C66.4909 57.68 66.1129 57.842 65.8249 58.166C65.5369 58.484 65.3929 58.937 65.3929 59.525C65.3929 60.119 65.5369 60.578 65.8249 60.902C66.1129 61.226 66.4909 61.388 66.9589 61.388C67.3189 61.388 67.6189 61.304 67.8589 61.136C68.0989 60.968 68.2639 60.728 68.3539 60.416H69.2359C69.1039 60.92 68.8399 61.325 68.4439 61.631C68.0479 61.931 67.5529 62.081 66.9589 62.081C66.4909 62.081 66.0739 61.976 65.7079 61.766C65.3479 61.556 65.0659 61.259 64.8619 60.875C64.6579 60.491 64.5559 60.041 64.5559 59.525ZM74.8287 59.345C74.8287 59.501 74.8197 59.666 74.8017 59.84H70.8597C70.8897 60.326 71.0547 60.707 71.3547 60.983C71.6607 61.253 72.0297 61.388 72.4617 61.388C72.8157 61.388 73.1097 61.307 73.3437 61.145C73.5837 60.977 73.7517 60.755 73.8477 60.479H74.7297C74.5977 60.953 74.3337 61.34 73.9377 61.64C73.5417 61.934 73.0497 62.081 72.4617 62.081C71.9937 62.081 71.5737 61.976 71.2017 61.766C70.8357 61.556 70.5477 61.259 70.3377 60.875C70.1277 60.485 70.0227 60.035 70.0227 59.525C70.0227 59.015 70.1247 58.568 70.3287 58.184C70.5327 57.8 70.8177 57.506 71.1837 57.302C71.5557 57.092 71.9817 56.987 72.4617 56.987C72.9297 56.987 73.3437 57.089 73.7037 57.293C74.0637 57.497 74.3397 57.779 74.5317 58.139C74.7297 58.493 74.8287 58.895 74.8287 59.345ZM73.9827 59.174C73.9827 58.862 73.9137 58.595 73.7757 58.373C73.6377 58.145 73.4487 57.974 73.2087 57.86C72.9747 57.74 72.7137 57.68 72.4257 57.68C72.0117 57.68 71.6577 57.812 71.3637 58.076C71.0757 58.34 70.9107 58.706 70.8687 59.174H73.9827Z" fill="white" />
                <path d="M37.5 1H64V6.3H43.6833V23.0833H62.2333V28.3833H43.6833V45.1667H64V50.4667H37.5V1Z" stroke="white" stroke-width="0.5" />
                <path d="M37.5 1H11V6.3H31.3167V23.0833H12.7667V28.3833H31.3167V45.1667H11V50.4667H37.5V1Z" stroke="white" stroke-width="0.5" />
            </svg></h1>
    </a>


    <form class="formulario_inicio_sesion" method="post" action="crear_usuario.php">

        <h1 class="title_footer_form crear_usuario_title ">Registro</h1>
        <p class="content_footer_form  crear_usuario_text">Crea tu usuario para acceder a la web</p>


        <label class="label label_sesion" for="email">Correo</label>
        <input TYPE="text" NAME="correo" class="input input_sesion" required>

        <label class="label label_sesion" for="mensaje">Contraseña</label>
        <INPUT TYPE="password" NAME="clave" class="input input_sesion" required>

        <label class="label label_sesion" for="mensaje">Repetir contraseña</label>
        <INPUT TYPE="password" NAME="clave2" class="input input_sesion" required>




        <input class="boton boton_sesion" type="submit" value="Enviar" name="submit">


    </form>

    <script>
        function changePage(whereToGo, messageText) {
            alert(messageText);
            window.location = whereToGo;
        }
    </script>

    <div class="crear_cuenta">

        <p class="p_registro">¿Ya tienes cuenta? <a class="a_registro" href="inicio_sesion.php">Inicia sesión</a></p>

    </div>


    <div class="legal_inicio_sesion">

        <ul class="link_legal">

            <li><a class="link_legal_a_incio_sesion" href="">Política de privacidad</a></li>
            <li><a class="link_legal_a_incio_sesion" href=""> Aviso Legal</a></li>
            <li><a class="link_legal_a_incio_sesion" href=""> Politica de cookies</a></li>

        </ul>
    </div>


    <?php

    include("./components-php/data-php/Conecta.php");
    $link = Conectarse();


    if (isset($_POST['correo'])) {
        $correo = trim($_POST['correo']);
    }

    if (isset($_POST['clave'])) {
        $password = trim($_POST['clave']);




        if (isset($_POST['submit'])) {

            if (empty($correo)) {
                echo "<p>El campo correo esta vacio</p>";
            }

            if (empty($password)) {
                echo "<p>El campo contraseÃ±a esta vacio</p>";
            }
        }





        $q = mysqli_query($link, "SELECT * FROM usuarios WHERE Correo_us = '$correo'");
        //verificamos si el user exite con un condicional
        if (mysqli_num_rows($q) == 0) {

            // mysql_num_rows <- esta funcion me imprime el numero de registro que encontro
            // si el numero es igual a 0 es porque el registro no exite, en otras palabras ese user no esta en la tabla miembro por lo tanto se puede registrar

            if (!empty($correo && $password)) {



                $password = password_hash($password, PASSWORD_DEFAULT);
                mysqli_query($link, "insert into usuarios(Correo_us,Contrasena_us) values('$correo','$password')");


                echo '<script> changePage("inicio_sesion.php", "Te has registrado correctamente"); </script>';

                // Header("Location: iniciosesion.php");

            }
        } else {


            // echo 'el correo ya esta registrado, ingresa otro';

            echo '<script>  window.alert("El correo ya esta registrado, ingresa otro"); </script>';
        }
    }

    ?>




    <!-- 
    <video class="video_inicio_sesion_mobile" autoplay="autoplay" loop="loop" muted defaultMuted> 
        <source src="imagenes/inicio_sesion_mobile.mp4" type="video/mp4">
    </video> -->











</body>

</html>